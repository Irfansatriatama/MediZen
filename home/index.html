<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Beranda â€” MediZen</title>
<link rel="stylesheet" href="home.css">
</head>
<body>
<div class="app-shell">
  <div class="home-page" id="home-page">

    <!-- Header -->
    <div class="home-header">
      <div class="header-left">
        <div class="greeting-sm" id="greeting-time">Selamat pagi</div>
        <a href="../profile/index.html" class="user-name" id="user-name" style="text-decoration:none;color:inherit;">Loading...</a>
      </div>
      <div class="header-actions">
        <a href="../notifications/index.html" class="icon-btn">
          <div class="notif-badge" id="notif-badge" style="display:none;"></div>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
        </a>
        <a href="../search/index.html" class="icon-btn">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </a>
      </div>
    </div>

    <!-- Health Status Card -->
    <div class="health-card">
      <div class="card-label">Status Kesehatanmu</div>
      <div class="card-title">Kondisi Baik</div>
      <div class="health-metrics">
        <div class="metric-item">
          <div class="m-label">Detak Jantung</div>
          <div class="m-value">72</div>
          <div class="m-unit">bpm</div>
        </div>
        <div class="metric-item">
          <div class="m-label">Tekanan Darah</div>
          <div class="m-value">120/80</div>
          <div class="m-unit">mmHg</div>
        </div>
        <div class="metric-item">
          <div class="m-label">Berat Badan</div>
          <div class="m-value">65</div>
          <div class="m-unit">kg</div>
        </div>
      </div>
      <a href="../health-record/index.html" class="check-btn">Update Data</a>
    </div>

    <!-- Promo Banner -->
    <div class="promo-banner">
      <div class="promo-label">MediZen Premium</div>
      <div class="promo-title">Konsultasi Gratis<br>Minggu Ini</div>
      <div class="promo-desc">Dapatkan 1 sesi konsultasi gratis dengan dokter spesialis pilihanmu</div>
      <a href="../doctors/index.html" class="promo-btn">Klaim Sekarang</a>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <div class="section-header" style="padding:0;margin-bottom:14px;">
        <div class="section-title">Layanan</div>
      </div>
      <div class="actions-grid">
        <a href="../doctors/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(10,186,181,0.12);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0ABAB5" stroke-width="2" stroke-linecap="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/><path d="M12 11v6M9 14h6" stroke="#0ABAB5"/></svg>
          </div>
          <div class="action-label">Cari Dokter</div>
        </a>
        <a href="../chatbot/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(124,58,237,0.10);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#7C3AED" stroke-width="2" stroke-linecap="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
          </div>
          <div class="action-label">AI Chat</div>
        </a>
        <a href="../health-info/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(37,99,235,0.10);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
          </div>
          <div class="action-label">Artikel</div>
        </a>
        <a href="../journal/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(22,163,74,0.10);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#16A34A" stroke-width="2" stroke-linecap="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
          </div>
          <div class="action-label">Jurnal</div>
        </a>
        <a href="../health-record/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(234,88,12,0.08);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F78166" stroke-width="2" stroke-linecap="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
          </div>
          <div class="action-label">Catatan</div>
        </a>
        <a href="../booking/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(217,119,6,0.08);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F0C060" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
          </div>
          <div class="action-label">Booking</div>
        </a>
        <a href="../lab/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(10,186,181,0.12);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0ABAB5" stroke-width="2" stroke-linecap="round"><path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v11m0 0a3 3 0 1 0 6 0m-6 0h6m0 0V3m3 11h2a2 2 0 0 0 2-2V5"/></svg>
          </div>
          <div class="action-label">Lab</div>
        </a>
        <a href="../pharmacy/index.html" class="action-item">
          <div class="action-icon" style="background:rgba(234,88,12,0.08);">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#F78166" stroke-width="2" stroke-linecap="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </div>
          <div class="action-label">Apotek</div>
        </a>
      </div>
    </div>

    <!-- Doctors Online -->
    <div style="margin-bottom:4px;">
      <div class="section-header">
        <div class="section-title">Dokter Online</div>
        <a href="../doctors/index.html" class="see-all">Lihat semua</a>
      </div>
      <div class="doctors-scroll">
        <a href="../doctors/index.html" class="doctor-card">
          <div class="doctor-avatar">ğŸ§‘â€âš•ï¸</div>
          <div class="doctor-name">dr. Rina Kusuma</div>
          <div class="doctor-spec">Umum</div>
          <div class="doctor-rating">â˜… 4.9 <span style="color:var(--text-muted);font-weight:400">(128)</span></div>
          <div class="doctor-status" style="color:var(--accent-green);">
            <div class="status-dot" style="background:var(--accent-green);"></div>Online
          </div>
        </a>
        <a href="../doctors/index.html" class="doctor-card">
          <div class="doctor-avatar">ğŸ‘©â€âš•ï¸</div>
          <div class="doctor-name">dr. Sarah Amelia</div>
          <div class="doctor-spec">Jantung</div>
          <div class="doctor-rating">â˜… 4.8 <span style="color:var(--text-muted);font-weight:400">(96)</span></div>
          <div class="doctor-status" style="color:var(--accent-green);">
            <div class="status-dot" style="background:var(--accent-green);"></div>Online
          </div>
        </a>
        <a href="../doctors/index.html" class="doctor-card">
          <div class="doctor-avatar">ğŸ§“â€âš•ï¸</div>
          <div class="doctor-name">dr. Budi Santoso</div>
          <div class="doctor-spec">Anak</div>
          <div class="doctor-rating">â˜… 4.7 <span style="color:var(--text-muted);font-weight:400">(74)</span></div>
          <div class="doctor-status" style="color:var(--text-muted);">
            <div class="status-dot" style="background:var(--text-muted);"></div>Sibuk
          </div>
        </a>
        <a href="../doctors/index.html" class="doctor-card">
          <div class="doctor-avatar">ğŸ‘¨â€âš•ï¸</div>
          <div class="doctor-name">dr. Alex Rahman</div>
          <div class="doctor-spec">Kulit</div>
          <div class="doctor-rating">â˜… 4.9 <span style="color:var(--text-muted);font-weight:400">(210)</span></div>
          <div class="doctor-status" style="color:var(--accent-green);">
            <div class="status-dot" style="background:var(--accent-green);"></div>Online
          </div>
        </a>
      </div>
    </div>

    <!-- Articles -->
    <div>
      <div class="section-header">
        <div class="section-title">Artikel Terpopuler</div>
        <a href="../health-info/index.html" class="see-all">Lihat semua</a>
      </div>
      <div class="articles-list">
        <a href="../health-info/detail.html" class="article-card">
          <div class="article-thumbnail">ğŸ§ </div>
          <div class="article-content">
            <div class="article-category" style="color:var(--accent-purple);">Mental Health</div>
            <div class="article-title">5 Cara Menjaga Kesehatan Mental di Tengah Kesibukan</div>
            <div class="article-meta">
              <span>5 min baca</span>
              <span>â€¢</span>
              <span>2 jam lalu</span>
            </div>
          </div>
        </a>
        <a href="../health-info/detail.html" class="article-card">
          <div class="article-thumbnail">ğŸ’Š</div>
          <div class="article-content">
            <div class="article-category" style="color:var(--primary);">Nutrisi</div>
            <div class="article-title">Panduan Makan Sehat untuk Gen Z yang Sibuk</div>
            <div class="article-meta">
              <span>3 min baca</span>
              <span>â€¢</span>
              <span>5 jam lalu</span>
            </div>
          </div>
        </a>
        <a href="../health-info/detail.html" class="article-card">
          <div class="article-thumbnail">ğŸƒ</div>
          <div class="article-content">
            <div class="article-category" style="color:var(--accent-green);">Olahraga</div>
            <div class="article-title">Olahraga 15 Menit Sehari yang Efektif Tanpa Gym</div>
            <div class="article-meta">
              <span>4 min baca</span>
              <span>â€¢</span>
              <span>Kemarin</span>
            </div>
          </div>
        </a>
      </div>
    </div>

  </div>

  <!-- Chatbot FAB -->
  <a href="../chatbot/index.html" class="chatbot-fab">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
  </a>

  <!-- Bottom Nav -->
    <nav class="bottom-nav">
    <a href="../home/index.html" class="nav-item active">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span class="nav-label">Beranda</span>
    </a>
    <a href="../search/index.html" class="nav-item">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      <span class="nav-label">Search</span>
    </a>
    <a href="../doctors/index.html" class="nav-item">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      <span class="nav-label">Dokter</span>
    </a>
    <a href="../chatbot/index.html" class="nav-item">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
      <span class="nav-label">AI Chat</span>
    </a>
    <a href="../profile/index.html" class="nav-item">
      <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      <span class="nav-label">Profil</span>
    </a>
  </nav>
</div>

<script src="../assets/js/utils.js"></script>
<script>
// Auth guard
if (!MediZen.auth.isLoggedIn()) {
  window.location.href = '../auth/login.html';
}

// Set username
const user = MediZen.auth.getUser();
if (user) {
  const firstName = user.name.split(' ')[0];
  document.getElementById('user-name').textContent = 'Hai, ' + firstName + ' ğŸ‘‹';
}

// Greeting by time
const hour = new Date().getHours();
const greetings = hour < 12 ? 'Selamat pagi' : hour < 15 ? 'Selamat siang' : hour < 19 ? 'Selamat sore' : 'Selamat malam';
document.getElementById('greeting-time').textContent = greetings;

// Show notification badge if there are unread notifications
try {
  const notifs = JSON.parse(localStorage.getItem('mz_notifications') || '[]');
  const unread = notifs.filter(n => !n.read).length;
  const badge = document.getElementById('notif-badge');
  if (unread > 0 && badge) {
    badge.style.display = 'block';
    badge.textContent = unread > 9 ? '9+' : unread;
  }
} catch(e) {}
</script>
</body>
</html>
